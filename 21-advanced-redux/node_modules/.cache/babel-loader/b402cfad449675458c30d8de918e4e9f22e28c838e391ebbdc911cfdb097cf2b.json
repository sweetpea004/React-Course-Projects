{"ast":null,"code":"import{Fragment,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import Cart from'./components/Cart/Cart';import Layout from'./components/Layout/Layout';import Products from'./components/Shop/Products';import Notification from'./components/UI/Notification';import{sendCartData,fetchCartData}from'./store/cart-actions';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";let isInitial=true;function App(){const dispatch=useDispatch();const showCart=useSelector(state=>state.ui.cartIsVisible);const cart=useSelector(state=>state.cart);const notification=useSelector(state=>state.ui.notification);useEffect(()=>{dispatch(fetchCartData());},[dispatch]);useEffect(()=>{if(isInitial){isInitial=false;return;}if(cart.changed){dispatch(sendCartData(cart));}},[cart,dispatch]);return/*#__PURE__*/_jsxs(Fragment,{children:[notification&&/*#__PURE__*/_jsx(Notification,{status:notification.status,title:notification.title,message:notification.message}),/*#__PURE__*/_jsxs(Layout,{children:[showCart&&/*#__PURE__*/_jsx(Cart,{}),/*#__PURE__*/_jsx(Products,{})]})]});}export default App;","map":{"version":3,"names":["Fragment","useEffect","useSelector","useDispatch","Cart","Layout","Products","Notification","sendCartData","fetchCartData","jsx","_jsx","jsxs","_jsxs","isInitial","App","dispatch","showCart","state","ui","cartIsVisible","cart","notification","changed","children","status","title","message"],"sources":["C:/Users/Computer/Documents/React Projects/React-Course-Projects/21-advanced-redux/src/App.js"],"sourcesContent":["import { Fragment, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport Cart from './components/Cart/Cart';\nimport Layout from './components/Layout/Layout';\nimport Products from './components/Shop/Products';\nimport Notification from './components/UI/Notification';\nimport { sendCartData, fetchCartData } from './store/cart-actions';\n\nlet isInitial = true;\n\nfunction App() {\n  const dispatch = useDispatch();\n  const showCart = useSelector((state) => state.ui.cartIsVisible);\n  const cart = useSelector(state => state.cart);\n  const notification = useSelector(state => state.ui.notification);\n\n  useEffect(() => {\n    dispatch(fetchCartData());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (isInitial) {\n      isInitial = false;\n      return;\n    }   \n\n    if (cart.changed) {\n      dispatch(sendCartData(cart));\n    }\n  }, [cart, dispatch]);\n\n  return (\n    <Fragment>\n      {notification && (\n        <Notification \n          status={notification.status}\n          title={notification.title}\n          message={notification.message}\n        />)}\n      <Layout>\n        {showCart && <Cart />}\n        <Products />\n      </Layout>\n    </Fragment>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CAEtD,MAAO,CAAAC,IAAI,KAAM,wBAAwB,CACzC,MAAO,CAAAC,MAAM,KAAM,4BAA4B,CAC/C,MAAO,CAAAC,QAAQ,KAAM,4BAA4B,CACjD,MAAO,CAAAC,YAAY,KAAM,8BAA8B,CACvD,OAASC,YAAY,CAAEC,aAAa,KAAQ,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnE,GAAI,CAAAC,SAAS,CAAG,IAAI,CAEpB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAAAC,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAc,QAAQ,CAAGf,WAAW,CAAEgB,KAAK,EAAKA,KAAK,CAACC,EAAE,CAACC,aAAa,CAAC,CAC/D,KAAM,CAAAC,IAAI,CAAGnB,WAAW,CAACgB,KAAK,EAAIA,KAAK,CAACG,IAAI,CAAC,CAC7C,KAAM,CAAAC,YAAY,CAAGpB,WAAW,CAACgB,KAAK,EAAIA,KAAK,CAACC,EAAE,CAACG,YAAY,CAAC,CAEhErB,SAAS,CAAC,IAAM,CACde,QAAQ,CAACP,aAAa,CAAC,CAAC,CAAC,CAC3B,CAAC,CAAE,CAACO,QAAQ,CAAC,CAAC,CAEdf,SAAS,CAAC,IAAM,CACd,GAAIa,SAAS,CAAE,CACbA,SAAS,CAAG,KAAK,CACjB,OACF,CAEA,GAAIO,IAAI,CAACE,OAAO,CAAE,CAChBP,QAAQ,CAACR,YAAY,CAACa,IAAI,CAAC,CAAC,CAC9B,CACF,CAAC,CAAE,CAACA,IAAI,CAAEL,QAAQ,CAAC,CAAC,CAEpB,mBACEH,KAAA,CAACb,QAAQ,EAAAwB,QAAA,EACNF,YAAY,eACXX,IAAA,CAACJ,YAAY,EACXkB,MAAM,CAAEH,YAAY,CAACG,MAAO,CAC5BC,KAAK,CAAEJ,YAAY,CAACI,KAAM,CAC1BC,OAAO,CAAEL,YAAY,CAACK,OAAQ,CAC/B,CAAE,cACLd,KAAA,CAACR,MAAM,EAAAmB,QAAA,EACJP,QAAQ,eAAIN,IAAA,CAACP,IAAI,GAAE,CAAC,cACrBO,IAAA,CAACL,QAAQ,GAAE,CAAC,EACN,CAAC,EACD,CAAC,CAEf,CAEA,cAAe,CAAAS,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}